---
title: "Final Project"
author: "Will, Marcus, Saratessa"
format: html
editor: visual
---

```{r}
setwd("/Users/saratessapalos/Desktop/EDLDClassProject/EDLD651ClassProject/data")

data <- read.csv("updated.csv")
```

```{r}
library(readr)
data <- read_csv("C:/Users/Administrator/Desktop/Final Project/updated_repo/data/updated.csv")
View(data)
```

```{r}
library(here)
library(readr)

data <- read_csv(here("data", "updated.csv"))
```

```{r}
library(tidyverse)
library(readxl)
library(corrplot)
library(viridis)
library(gridExtra)   

# Growth patterns across measures and years

# Letter-Word Identification
ggplot(data, aes(x = year)) +
  geom_boxplot(aes(y = LWID_growth, fill = year)) +
  facet_wrap(~"Letter-Word ID Growth") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# Math Fluency Growth
ggplot(data, aes(x = year)) +
  geom_boxplot(aes(y = MF_growth, fill = year)) +
  facet_wrap(~"Math Fluency Growth by Year") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# Calculation Growth

ggplot(data, aes(x = year)) +
  geom_boxplot(aes(y = CALC_growth, fill = year)) +
  facet_wrap(~"Calculation Growth by Year") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# Growth distribution violin plots
long_data <- data %>%
  pivot_longer(
    cols = ends_with("_growth"),
    names_to = "measure",
    values_to = "growth"
  )

ggplot(long_data, aes(x = measure, y = growth, fill = year)) +
  geom_violin() +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# Statistical summary by measure
growth_summary <- data %>%
  group_by(year) %>%
  summarize(
    across(ends_with("_growth"),
           list(
             mean = ~mean(., na.rm = TRUE),
             sd = ~sd(., na.rm = TRUE),
             n = ~sum(!is.na(.))
           ))
  )

print(growth_summary)

# Cross-domain comparison
ggplot(data) +
  geom_point(aes(x = RC_growth, y = Math_growth, color = year)) +
  geom_smooth(aes(x = RC_growth, y = Math_growth), method = "lm") +
  theme_minimal() + 
  facet_wrap(~year)
  labs(
    title = "Reading vs Math Growth Correlation",
       x = "Reading Growth",
       y = "Math Growth" 
  )

```

```{r}
data <- data %>%
  group_by(year) %>% 
  mutate(math_by_year = mean(Math_growth, na.rm = TRUE))
```

```{r}
data <- data %>% 
  select(-read_by_year)
```

```{r}
data <- data %>% 
  group_by(year) %>% 
  mutate(read_by_year = mean(RC_growth, na.rm = TRUE))
```
```{r}
growth_summary <- growth_summary %>% 
  slice(-c(2))
```

```{r}
growth_summary <- growth_summary %>% 
  select(-starts_with("WJ"))
```
```{r}
growth_summary <- growth_summary %>% 
  select(-starts_with("ITBS"))
```


